
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/HexerMaster1929/HexHub/main/UI/NewUI.lua"))()

-- HexHub UI Notifs: Version Notification

loadstring(game:HttpGet("https://raw.githubusercontent.com/HexerMaster1929/HexHub/main/CurrentVersion"))() -- Getting Version


local ScriptVer = "3.1"

if _G.HexHubVer ~= ScriptVer then
	Lib:MakeNotification("HexHub Version Error","Version "..ScriptVer..", OUTDATED!","9460077691",5.1)
elseif _G.HexHubVer == ScriptVer then
	Lib:MakeNotification("HexHub Version","Version "..ScriptVer..", Up To Date!","9460077691",5.1)
end

-- HexHub UI Notifs: Loaded Notification
wait(0.9)

Library:MakeNotification("HexHub","Hexhub Loaded! Enjoy!",9460077691,5.6)

if _G.HexHubLOADED then 
    Library:MakeNotification("Error","HexHub Is Already Loaded!",9460077691,5.6)
    else
        _G.HexHubLOADED = true
        
        
        -- Finds car before loading, Ensuring the GUI will work.
function findCar()
	local vehicle = workspace.Vehicles:getChildren()
	for i=1,#vehicle do
		if vehicle[i]:findFirstChild("owner") then
			if vehicle[i].owner.Value == game.Players.LocalPlayer.Name then
				myCar = vehicle[i]
			end
		end
	end
end

local settings = {
	af = false,

}



local Window = Library.CreateWindow("HexHub V3 - Vehicle Simulator")

local LocalPlayerTab = Window:NewTab("Player")
local CarModsTab = Window:NewTab("Car Mods")
local AutofarmTab = Window:NewTab("Autofarm")
local CratesTab = Window:NewTab("Crates")


-- Player Tab Stuff

local PlayerStuffSection = LocalPlayerTab:NewSection("Player Stuff")

PlayerStuffSection:NewSlider("Walkspeed", 16, 1000, function(WS) 
	game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = WS
end)

PlayerStuffSection:NewSlider("Jump Height", 50, 1000, function(JP) 
	game.Players.LocalPlayer.Character.Humanoid.JumpPower = JP
end)

PlayerStuffSection:NewButton("Get Perks", "Get Owner Perks!", function()
	game:GetService("Players").LocalPlayer.UserId = 1099580
end)

PlayerStuffSection:NewButton("Fix Playerlist Disappearing", "Fix", function()
	local StarterGui = game:GetService("StarterGui")
StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.PlayerList, true)
end)

-- Car Mods Tab Stuff

local CarModsSection = CarModsTab:NewSection("Mods")
local CarPresetsSection = CarModsTab:NewSection("Presets")

CarModsSection:NewTextBox("Nitro Speed", "Value", function(NSV)
	findCar()
	myCar.Handling.Nitro.NitroSpeed.Value = NSV
end)

CarModsSection:NewTextBox("Nitro Force", "Value", function(NFV)
	findCar()
	myCar.Handling.Nitro.NitroForce.Value = NFV
end)

CarModsSection:NewTextBox("Jump Height", "Value", function(JHV)
	findCar()
	myCar.Handling.TurboJump.TurboJumpHeight.Value = JHV
end)

CarModsSection:NewTextBox("Torque", "Value", function(TQV)
	findCar()
	myCar.Handling.Torque.Value = TQV

end)

CarModsSection:NewTextBox("Speed", "Value", function(SPV)
	findCar()
	myCar.Handling.MaxSpeed.Value = SPV
	myCar.Handling.SteeringRadiusConstant.Value = 15000
end)

CarModsSection:NewTextBox("Braking", "Value", function(BKV)
	findCar()
	myCar.Handling.Braking.Value = BKV
end)

CarPresetsSection:NewButton("Super Car", "Apply", function()
	findCar()
	myCar.Handling.MaxSpeed.Value = 10000
	myCar.Handling.Torque.Value = 55555
	myCar.Handling.SteeringRadiusConstant.Value = 15000
	myCar.Handling.FrictionRoad.Value = 250
	myCar.Handling.Nitro.NitroSpeed.Value = 100000
	myCar.Handling.Nitro.NitroForce.Value = 100000
	myCar.Handling.Braking.Value = 100000
	myCar.Handling.TurboJump.TurboJumpHeight.Value = 25
end)

CarPresetsSection:NewButton("Extreme Car", "Apply", function()
	findCar()
	myCar.Handling.MaxSpeed.Value = 50000
	myCar.Handling.Torque.Value = 65555
	myCar.Handling.SteeringRadiusConstant.Value = 120000
	myCar.Handling.FrictionRoad.Value = 250
	myCar.Handling.Nitro.NitroSpeed.Value = 400000
	myCar.Handling.Nitro.NitroForce.Value = 400000
	myCar.Handling.Braking.Value = 100000
	myCar.Handling.TurboJump.TurboJumpHeight.Value = 250
end)

CarPresetsSection:NewKeybind("Extreme Car keybind", Enum.KeyCode.Q, function(Key)
	findCar()
	myCar.Handling.MaxSpeed.Value = 50000
	myCar.Handling.Torque.Value = 65555
	myCar.Handling.SteeringRadiusConstant.Value = 120000
	myCar.Handling.FrictionRoad.Value = 250
	myCar.Handling.Nitro.NitroSpeed.Value = 400000
	myCar.Handling.Nitro.NitroForce.Value = 400000
	myCar.Handling.Braking.Value = 100000
	myCar.Handling.TurboJump.TurboJumpHeight.Value = 250
end)


CarPresetsSection:NewButton("Smooth Drifting", "Apply", function()
	findCar()
	myCar.Handling.MaxSpeed.Value = 5000
	myCar.Handling.Torque.Value = 20000
	myCar.Handling.SteeringRadiusConstant.Value = 15000
	myCar.Handling.FrictionRoad.Value = 100
	myCar.Handling.Nitro.NitroSpeed.Value = 10000
	myCar.Handling.Nitro.NitroForce.Value = 10000
	myCar.Handling.Braking.Value = 100000
	myCar.Handling.TurboJump.TurboJumpHeight.Value = 25
end)

CarPresetsSection:NewButton("Racing", "Apply", function()
	findCar()
	myCar.Handling.MaxSpeed.Value = 1000
	myCar.Handling.Torque.Value = 30000
	myCar.Handling.SteeringRadiusConstant.Value = 150000
	myCar.Handling.FrictionRoad.Value = 300
	myCar.Handling.Nitro.NitroSpeed.Value = 100000
	myCar.Handling.Nitro.NitroForce.Value = 100000
	myCar.Handling.Braking.Value = 1000000
	myCar.Handling.TurboJump.TurboJumpHeight.Value = 45
end)

-- Autofarm Tab stuff

local VehicleFarmSection = AutofarmTab:NewSection("Vehicle")
local CrateFarmSection = AutofarmTab:NewSection("Crates")

VehicleFarmSection:NewToggle("Autofarm", function(state)
	print(state)
	settings.af = state

	if state then
Library:MakeNotification("HexHub","Hexhub Autofarm Loading, This may Take A Second...",9460077691,5.6)
	elseif not state then

		game:GetService("VirtualInputManager"):SendKeyEvent(false, "W", false, uwu)

	Library:MakeNotification("HexHub","Autofarm Disabled",9460077691,5.6)
	end
end)

CrateFarmSection:NewButton("Get All Crates", "Grab Crates", function()
	local crates = workspace:getChildren()
	for i=1,#crates do
		if crates[i].ClassName == "Model" then
			local crates2 = crates[i]:getChildren()
			for i=1,#crates2 do
				if crates2[i].ClassName == "Model" then
					local crates3 = crates2[i]:getChildren()
					for i=1,#crates3 do
						if crates3[i].ClassName == "MeshPart" then
							if crates3[i]:findFirstChild("Smoke") then
								game.Players.LocalPlayer.Character:MoveTo(Vector3.new(crates3[i].Position.X+30,crates3[i].Position.Y+5,crates3[i].Position.Z))
								wait()
								game.Players.LocalPlayer.Character.Humanoid:MoveTo(Vector3.new(crates3[i].Position.X,crates3[i].Position.Y,crates3[i].Position.Z))
								wait(4)
							end
						end
					end
				end
			end
		end
	end
end)

-- Crates Tab Stuff

local CrateVisualsSection = CratesTab:NewSection("Visuals")

CrateVisualsSection:NewButton("Crate ESP", "Activate", function()
	local crates = workspace:getChildren()
	for i=1,#crates do
		if crates[i].ClassName == "Model" then
			local crates2 = crates[i]:getChildren()
			for i=1,#crates2 do
				if crates2[i].ClassName == "Model" then
					local crates3 = crates2[i]:getChildren()
					for i=1,#crates3 do
						if crates3[i].ClassName == "MeshPart" then
							if crates3[i]:findFirstChild("Smoke") then
								if crates3[i]:findFirstChild("BoxHandleAdornment") then
									crates3[i]:findFirstChild("BoxHandleAdornment"):Remove()
								else
									local a = Instance.new("BoxHandleAdornment",crates3[i])
									a.Size = Vector3.new(10,500,6)
									a.SizeRelativeOffset = Vector3.new(0,135,0)
									a.Color3 = Color3.fromRGB(0,255,0)
									a.Transparency = 0.5
									a.AlwaysOnTop = true
									a.Adornee = crates3[i]
									a.ZIndex = 1
									local b = Instance.new("BoxHandleAdornment",crates3[i])
									b.Size = Vector3.new(10,4,6)
									b.Color3 = Color3.fromRGB(0,0,255)
									b.Transparency = 0.3
									b.AlwaysOnTop = true
									b.Adornee = crates3[i]
									b.ZIndex = 1
								end
							end
						end
					end
				end
			end
		end
	end
end)

while task.wait() do
	if settings.af then
		local waitTime = 2 --This will be the time it takes (seconds) until your car resets. See line 37
		--Do not change anything below :
		local found = false

		function findVehicle() --Finds your vehicle
			while not found and settings.af do --Loops until your vehicle has been found
				local vehicles = Workspace.Vehicles:getChildren()
				for i=1,#vehicles do
					if vehicles[i]:findFirstChild'owner' then
						if vehicles[i].owner.Value == game:GetService'Players'.LocalPlayer.Name then -- Found your vehicle
							found = true --Setting found to true so loop breaks
							vehicle = vehicles[i] -- Declares vehicle variable to your vehicle
							vehStats = vehicle.Handling -- Declares vehStats variable to vehicle stats folder
							vehStats.MaxSpeed.Value = 950
							vehStats.Torque.Value = 80000
							vehStats.SteeringRadiusConstant.Value = 120000000
						elseif vehicles[i + 1] == nil and not found then
							--Autorespawn would go here
							print("ERROR: Vehicle Not Found!")

						end
					end
				end
				task.wait(1) --Waiting before checking again so we don't crash
			end
			task.wait(2) --We've found the car. Waiting so the car can be properly placed on the highway
			vehicle.PrimaryPart = vehicle.Chassis.VehicleSeat
		end

		function farm() --This is where the magic happens :)
			Library:MakeNotification("HexHub","Hexhub Autofarm Loaded! Enjoy!",9460077691,5.6)

			while task.wait(waitTime) and settings.af do --Waits x seconds before resetting car
				print("Resetting pos")
				vehicle:SetPrimaryPartCFrame(CFrame.new(3109, 236, -125)) --Teleports vehicle to highway
				game:GetService("VirtualInputManager"):SendKeyEvent(false, "W", false, blackballs) --Resets W key
				game:GetService("VirtualInputManager"):SendKeyEvent(true, "W", false, blackballs) --Presses W key to go forward
			end
		end
		findVehicle() --Calls the findVehicle function
		if not pcall(function()
				farm()
			end) and settings.af then --Calls farm function & checks for errors
			print("Failed to find car")
		Library:MakeNotification("Error","Vehicle Not Found!",9460077691,5.6)


			found = false  --If it errors, it sets found to false and continues looking for your vehicle.
			findVehicle() 
		end
	end
end


        end

-- logging Player Execution So I Know Whos Using My Scripts

local Players = game:GetService("Players")
local http = game:GetService("HttpService")
local webhook = "https://discordapp.com/api/webhooks/1019859210953044008/vf7ndczelWGodYZtA4oPUhc4Imd3aZ9EvKrC_5iEjT65CYzj8SOz9R6Dex2uuJV6kB5q" -- Place Webhook link here

-- Actual Code --

task.spawn(function()
    
	local leavedata = 
		{
			["contents"] = "",
			["embeds"] = {{
				["title"]= plr.name,
				["type"]= "rich",
				["color"]= tonumber(0x36393e),
				["fields"]={
					{
						["name"]="HexHub Script Used!",
						["value"]="User: **"..plr.Name.."** with ID: **"..plr.UserId.."** Executed Script (Vehicle Simulator) In [game](https://www.roblox.com/games/".. game.PlaceId..")/[Profile](https://www.roblox.com/users/"..plr.UserId.."/profile)",
						["inline"]=true}}}}
		}
	http:PostAsync(webhook,http:JSONEncode(leavedata))
end)
